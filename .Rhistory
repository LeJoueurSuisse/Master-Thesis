guides(fill = FALSE) +
labs(title = "Negative tertiary control energy per year",
subtitle = "Ammount in million of kWh)",
y = "", x = "")
# Tertiary data for consumption & production
# Positive tertiary
general_df %>%
group_by(year) %>%
summarize(Total_cons = sum(pos_tertiary)/1000) %>%
ggplot(aes(x = year, y = Total_cons)) +
geom_col(color = "black", fill = "#619CFF") +
guides(fill = FALSE) +
labs(title = "Positive tertiary control energy per year",
subtitle = "Ammount in million of kWh)",
y = "", x = "")
# Negative tertiary
general_df %>%
group_by(year) %>%
summarize(Total_cons = sum(neg_tertiary)/1000) %>%
ggplot(aes(x = year, y = Total_cons)) +
geom_col(color = "black", fill = "#619CFF") +
guides(fill = FALSE) +
labs(title = "Negative tertiary control energy per year",
subtitle = "Ammount in million of kWh)",
y = "", x = "")
# Positive secondary
general_df %>%
group_by(year) %>%
summarize(Total_cons = sum(pos_second)/1000) %>%
ggplot(aes(x = year, y = Total_cons)) +
geom_col(color = "black", fill = "#619CFF") +
guides(fill = FALSE) +
labs(title = "Positive secondary control energy per year",
subtitle = "Ammount in million of kWh)",
y = "", x = "")
# Negative secondary
general_df %>%
group_by(year) %>%
summarize(Total_cons = sum(neg_second)/1000) %>%
ggplot(aes(x = year, y = Total_cons)) +
geom_col(color = "black", fill = "#619CFF") +
guides(fill = FALSE) +
labs(title = "Negative secondary control energy per year",
subtitle = "Ammount in million of kWh)",
y = "", x = "")
# Positive secondary
general_df %>%
group_by(year) %>%
summarize(Total_cons = sum(pos_second)/1000) %>%
ggplot(aes(x = year, y = Total_cons)) +
geom_col(color = "black", fill = "#619CFF") +
guides(fill = FALSE) +
labs(title = "Positive secondary control energy per year",
subtitle = "Ammount in million of kWh)",
y = "", x = "")
# Negative secondary
general_df %>%
group_by(year) %>%
summarize(Total_cons = sum(neg_second)/1000) %>%
ggplot(aes(x = year, y = Total_cons)) +
geom_col(color = "black", fill = "#619CFF") +
guides(fill = FALSE) +
labs(title = "Negative secondary control energy per year",
subtitle = "Ammount in million of kWh)",
y = "", x = "")
# Tertiary data for consumption & production
# Positive tertiary
general_df %>%
group_by(year) %>%
summarize(Total_cons = sum(pos_tertiary)/1000) %>%
ggplot(aes(x = year, y = Total_cons)) +
geom_col(color = "black", fill = "#619CFF") +
guides(fill = FALSE) +
labs(title = "Positive tertiary control energy per year",
subtitle = "Ammount in million of kWh)",
y = "", x = "")
# Negative tertiary
general_df %>%
group_by(year) %>%
summarize(Total_cons = sum(neg_tertiary)/1000) %>%
ggplot(aes(x = year, y = Total_cons)) +
geom_col(color = "black", fill = "#619CFF") +
guides(fill = FALSE) +
labs(title = "Negative tertiary control energy per year",
subtitle = "Ammount in million of kWh)",
y = "", x = "")
source(here::here("Scripts/SetUp.R"))
source(file = here::here("Scripts/Cleaning_and_Wrangling.R"))
border_df %>%
select(c(1, 9:15)) %>%
kable_head()
border_df %>% colnames()
border_df <- data_all %>% select(all_of(border_var)) %>%
rename(Ch_At = cross_border_exchange_ch_at_k_wh,
At_Ch = cross_border_exchange_at_ch_k_wh,
Ch_Ge = cross_border_exchange_ch_de_k_wh,
Ge_Ch = cross_border_exchange_de_ch_k_wh,
Ch_Fr = cross_border_exchange_ch_fr_k_wh,
Fr_Ch = cross_border_exchange_fr_ch_k_wh,
Ch_It = cross_border_exchange_ch_it_k_wh,
It_Ch = cross_border_exchange_it_ch_k_wh)
border_df <- border_df %>%
rename(Ch_At = cross_border_exchange_ch_at_k_wh,
At_Ch = cross_border_exchange_at_ch_k_wh,
Ch_Ge = cross_border_exchange_ch_de_k_wh,
Ge_Ch = cross_border_exchange_de_ch_k_wh,
Ch_Fr = cross_border_exchange_ch_fr_k_wh,
Fr_Ch = cross_border_exchange_fr_ch_k_wh,
Ch_It = cross_border_exchange_ch_it_k_wh,
It_Ch = cross_border_exchange_it_ch_k_wh)
View(border_df)
border_df <- border_df %>%
rename(Ch_At = cross_border_exchange_ch_at_k_wh,
At_Ch = cross_border_exchange_at_ch_k_wh,
Ch_Ge = cross_border_exchange_ch_de_k_wh,
Ge_Ch = cross_border_exchange_de_ch_k_wh,
Ch_Fr = cross_border_exchange_ch_fr_k_wh,
Fr_Ch = cross_border_exchange_fr_ch_k_wh,
Ch_It = cross_border_exchange_ch_it_k_wh,
It_Ch = cross_border_exchange_it_ch_k_wh) %>%
select(c(1, 3, 9:19))
border_df <- border_df %>%
select(c(1, 3, 9:19))
View(border_df)
border_ling <- border_df %>%
pivot_longer(c(3:13), names_to = "Type", values_to = "Amount")
View(border_ling)
border_long <- border_df %>%
pivot_longer(c(3:13), names_to = "Type", values_to = "Amount")
border_long %>%
ggplot(aes(x = Amount)) +
geom_bar() +
facet_wrap(vars(Type), ncol = 4) +
labs(x = "Response (on a 1 to 5 scale)", y = "Number of respondents")
View(border_long)
test <- border_long %>%
group_by(year, Type) %>%
summarize(total = sum(Amount)/1000000)
View(test)
border_long %>%
group_by(year, Type) %>%
summarize(total = sum(Amount)/1000000) %>%
ggplot(aes(x = Amount)) +
geom_bar() +
facet_wrap(vars(Type), ncol = 4) +
labs(x = "Response (on a 1 to 5 scale)", y = "Number of respondents")
border_long %>%
group_by(year, Type) %>%
summarize(total = sum(Amount)/1000000) %>%
ggplot(aes(x = total)) +
geom_bar() +
facet_wrap(vars(Type), ncol = 4) +
labs(x = "Response (on a 1 to 5 scale)", y = "Number of respondents")
border_long %>%
group_by(year, Type) %>%
summarize(total = sum(Amount)/1000000) %>%
ggplot(aes(x = total)) +
geom_bar() +
facet_wrap(vars(Year), ncol = 4) +
labs(x = "Response (on a 1 to 5 scale)", y = "Number of respondents")
View(canton_df_long)
View(test)
test <- border_long %>%
group_by(year, Type) %>%
summarize(total = sum(Amount)/1000000) %>%
as_tsibble(index = year, key = Type)
border_long %>%
group_by(year, Type) %>%
summarize(total = sum(Amount)/1000000) %>%
as_tsibble(index = year, key = Type) %>%
autoplot() +
facet_wrap(~Type, scales = "free") +
guides(colour="none") +
theme(axis.text.x = element_blank()) +
labs(title = "Monthly consumption per canton since 2018",
subtitle = "Ammount in millions of kWh with free scale",
y = "", x = "")
border_long %>%
group_by(year, Type) %>%
summarize(total = sum(Amount)/1000000) %>%
as_tsibble(index = year, key = Type) %>%
ggplot(aes(x = total)) +
geom_bar() +
facet_wrap(vars(Year), ncol = 4) +
labs(x = "Response (on a 1 to 5 scale)", y = "Number of respondents")
border_long %>%
group_by(year, Type) %>%
summarize(total = sum(Amount)/1000000) %>%
as_tsibble(index = year, key = Type) %>%
ggplot(aes(x = total)) +
geom_bar() +
facet_wrap(vars(year), ncol = 4) +
labs(x = "Response (on a 1 to 5 scale)", y = "Number of respondents")
border_long %>%
group_by(year, Type) %>%
summarize(total = sum(Amount)/1000000) %>%
as_tsibble(index = year, key = Type) %>%
ggplot(aes(x = total)) +
geom_bar() +
facet_wrap(vars(Type), ncol = 4) +
labs(x = "Response (on a 1 to 5 scale)", y = "Number of respondents")
border_long %>%
group_by(year, Type) %>%
summarize(total = sum(Amount)/1000000) %>%
as_tsibble(index = year, key = Type) %>%
ggplot(aes(x = year)) +
geom_bar() +
facet_wrap(vars(Type), ncol = 4) +
labs(x = "Response (on a 1 to 5 scale)", y = "Number of respondents")
border_long %>%
group_by(year, Type) %>%
summarize(total = sum(Amount)/1000000) %>%
as_tsibble(index = year, key = Type) %>%
ggplot(aes(x = year, y = Amount)) +
geom_bar() +
facet_wrap(vars(Type), ncol = 4) +
labs(x = "Response (on a 1 to 5 scale)", y = "Number of respondents")
border_long %>%
group_by(year, Type) %>%
summarize(total = sum(Amount)/1000000) %>%
as_tsibble(index = year, key = Type) %>%
ggplot(aes(x = year, y = total)) +
geom_bar() +
facet_wrap(vars(Type), ncol = 4) +
labs(x = "Response (on a 1 to 5 scale)", y = "Number of respondents")
ggplot(test, aes(x = as.factor(year), y = total, fill = Type)) +
geom_bar(stat = "identity", position = "dodge")
ggplot(test, aes(x = as.factor(year), y = total, fill = Type)) +
geom_bar(stat = "identity", position = "dodge") +
facet_wrap(vars(year), ncol = 3)
ggplot(test, aes(x = as.factor(year), y = total, fill = Type)) +
geom_bar(stat = "identity", position = "dodge") +
facet_wrap(vars(Type), ncol = 3)
ggplot(test, aes(x = as.factor(year), y = total, fill = Type)) +
geom_bar(stat = "identity", position = "dodge") +
facet_wrap(vars(Type), ncol = 3, scales = "free")
ggplot(test, aes(x = as.factor(year), y = total, fill = Type)) +
geom_bar(stat = "identity", position = "dodge") +
facet_wrap(vars(Type), ncol = 3, scales = "free")
View(border_df)
border_long <- border_df %>%
select(c(1:10)) %>%
pivot_longer(c(3:13), names_to = "Type", values_to = "Amount")
border_long <- border_df %>%
select(c(1:10)) %>%
pivot_longer(c(3:10), names_to = "Type", values_to = "Amount")
View(border_long)
View(border_df)
border_long <- border_df %>%
select(c(1:10)) %>%
pivot_longer(c(3:10), names_to = "Type", values_to = "Amount")
imp_exp_long <- border_df %>%
select(c(1:2, 11:13)) %>%
pivot_longer(c(3:5), names_to = "Type", values_to = "Amount")
test <- border_long %>%
group_by(year, Type) %>%
summarize(total = sum(Amount)/1000000) %>%
as_tsibble(index = year, key = Type)
ggplot(test, aes(x = as.factor(year), y = total, fill = Type)) +
geom_bar(stat = "identity", position = "dodge") +
facet_wrap(vars(Type), ncol = 3, scales = "free")
test2 <- imp_exp_long %>%
group_by(year, Type) %>%
summarize(total = sum(Amount)/1000000) %>%
as_tsibble(index = year, key = Type)
ggplot(test, aes(x = as.factor(year), y = total, fill = Type)) +
geom_bar(stat = "identity", position = "dodge") +
facet_wrap(vars(Type), ncol = 3, scales = "free")
ggplot(test2, aes(x = as.factor(year), y = total, fill = Type)) +
geom_bar(stat = "identity", position = "dodge") +
facet_wrap(vars(Type), ncol = 3, scales = "free")
ggplot(test2, aes(x = as.factor(year), y = total, fill = Type)) +
geom_bar(stat = "identity", position = "dodge") +
facet_wrap(vars(Type), ncol = 3)
ggplot(test, aes(x = as.factor(year), y = total, fill = Type)) +
geom_bar(stat = "identity", position = "dodge") +
facet_wrap(vars(Type), ncol = 3, scales = "free")
ggplot(test, aes(x = as.factor(year), y = total, fill = Type)) +
geom_bar(stat = "identity", position = "dodge") +
facet_wrap(vars(Type), ncol = 3)
ggplot(test, aes(x = as.factor(year), y = total, fill = Type)) +
geom_bar(stat = "identity", position = "dodge") +
facet_wrap(vars(Type), ncol = 3) +
guides(colour="none")
ggplot(test2, aes(x = as.factor(year), y = total, fill = Type)) +
geom_bar(stat = "identity", position = "dodge") +
facet_wrap(vars(Type), ncol = 3) +
guides(colour="none")
ggplot(test, aes(x = as.factor(year), y = total, fill = Type)) +
geom_bar(stat = "identity", position = "dodge") +
facet_wrap(vars(Type), ncol = 3)+
guides(colour="none") +
theme(axis.text.x = element_blank()) +
labs(title = "Monthly consumption per canton since 2018",
subtitle = "Ammount in millions of kWh with free scale",
y = "", x = "")
ggplot(test2, aes(x = as.factor(year), y = total, fill = Type)) +
geom_bar(stat = "identity", position = "dodge") +
facet_wrap(vars(Type), ncol = 3) +
guides(colour="none") +
guides(colour="none") +
theme(axis.text.x = element_blank()) +
labs(title = "Monthly consumption per canton since 2018",
subtitle = "Ammount in millions of kWh with free scale",
y = "", x = "")
ggplot(test2, aes(x = as.factor(year), y = total, fill = Type)) +
geom_bar(stat = "identity", position = "dodge") +
facet_wrap(vars(Type), ncol = 3) +
guides(colour="none") +
guides(colour="none") +
labs(title = "Monthly consumption per canton since 2018",
subtitle = "Ammount in millions of kWh with free scale",
y = "", x = "")
ggplot(test, aes(x = as.factor(year), y = total, fill = Type)) +
geom_bar(stat = "identity", position = "dodge") +
facet_wrap(vars(Type), ncol = 3)+
guides(colour="none") +
labs(title = "Monthly consumption per canton since 2018",
subtitle = "Ammount in millions of kWh with free scale",
y = "", x = "")
ggplot(test2, aes(x = as.factor(year), y = total, fill = Type)) +
geom_bar(stat = "identity", position = "dodge") +
facet_wrap(vars(Type), ncol = 3) +
guides(colour="none") +
guides(colour="none") +
labs(title = "Monthly consumption per canton since 2018",
subtitle = "Ammount in millions of kWh with free scale",
y = "", x = "")
border_long %>%
group_by(year, Type) %>%
summarize(total = sum(Amount)/1000000) %>%
as_tsibble(index = year, key = Type) %>%
ggplot(aes(x = as.factor(year), y = total, fill = Type)) +
geom_bar(stat = "identity", position = "dodge") +
facet_wrap(vars(Type), ncol = 3)+
guides(colour="none") +
labs(title = "Monthly consumption per canton since 2018",
subtitle = "Ammount in millions of kWh with free scale",
y = "", x = "")
imp_exp_long %>%
group_by(year, Type) %>%
summarize(total = sum(Amount)/1000000) %>%
as_tsibble(index = year, key = Type) %>%
ggplot(aes(x = as.factor(year), y = total, fill = Type)) +
geom_bar(stat = "identity", position = "dodge") +
facet_wrap(vars(Type), ncol = 3) +
guides(colour="none") +
guides(colour="none") +
labs(title = "Monthly consumption per canton since 2018",
subtitle = "Ammount in millions of kWh with free scale",
y = "", x = "")
border_long %>%
group_by(year, Type) %>%
summarize(total = sum(Amount)/1000000) %>%
as_tsibble(index = year, key = Type) %>%
ggplot(aes(x = as.factor(year), y = total, fill = Type)) +
geom_bar(stat = "identity", position = "dodge") +
facet_wrap(vars(Type), ncol = 3)+
guides(colour="none") +
labs(title = "Monthly consumption per canton since 2018",
subtitle = "Ammount in millions of kWh with free scale",
y = "", x = "") +
theme(axis.text.x = element_text(angle=80, hjust=1))
border_long %>%
group_by(year, Type) %>%
summarize(total = sum(Amount)/1000000) %>%
as_tsibble(index = year, key = Type) %>%
ggplot(aes(x = as.factor(year), y = total, fill = Type)) +
geom_bar(stat = "identity", position = "dodge") +
facet_wrap(vars(Type), ncol = 3)+
guides(colour="none") +
labs(title = "Monthly consumption per canton since 2018",
subtitle = "Ammount in millions of kWh with free scale",
y = "", x = "") +
theme(axis.text.x = element_text(angle=80, hjust=1))
border_long %>%
group_by(year, Type) %>%
summarize(total = sum(Amount)/1000000) %>%
as_tsibble(index = year, key = Type) %>%
ggplot(aes(x = as.factor(year), y = total, fill = Type)) +
geom_bar(stat = "identity", position = "dodge") +
facet_wrap(vars(Type), ncol = 3)+
guides(colour="none") +
labs(title = "Monthly consumption per canton since 2018",
subtitle = "Ammount in millions of kWh with free scale",
y = "", x = "") +
theme(axis.text.x = element_text(angle=80, hjust=1))
border_long %>%
group_by(year, Type) %>%
summarize(total = sum(Amount)/1000000) %>%
as_tsibble(index = year, key = Type) %>%
ggplot(aes(x = as.factor(year), y = total, fill = Type)) +
geom_bar(stat = "identity", position = "dodge") +
facet_wrap(vars(Type), ncol = 3) +
guides(colour= FALSE) +
labs(title = "Monthly consumption per canton since 2018",
subtitle = "Ammount in millions of kWh with free scale",
y = "", x = "") +
theme(axis.text.x = element_text(angle=80, hjust=1))
border_long %>%
group_by(year, Type) %>%
summarize(total = sum(Amount)/1000000) %>%
as_tsibble(index = year, key = Type) %>%
ggplot(aes(x = as.factor(year), y = total, fill = Type)) +
geom_bar(stat = "identity", position = "dodge") +
facet_wrap(Type, ncol = 3) +
guides(colour= FALSE) +
labs(title = "Monthly consumption per canton since 2018",
subtitle = "Ammount in millions of kWh with free scale",
y = "", x = "") +
theme(axis.text.x = element_text(angle=80, hjust=1))
border_long %>%
group_by(year, Type) %>%
summarize(total = sum(Amount)/1000000) %>%
as_tsibble(index = year, key = Type) %>%
ggplot(aes(x = as.factor(year), y = total, fill = Type)) +
geom_bar(stat = "identity", position = "dodge") +
facet_wrap(~Type, ncol = 3) +
guides(colour= FALSE) +
labs(title = "Monthly consumption per canton since 2018",
subtitle = "Ammount in millions of kWh with free scale",
y = "", x = "") +
theme(axis.text.x = element_text(angle=80, hjust=1))
border_long %>%
group_by(year, Type) %>%
summarize(total = sum(Amount)/1000000) %>%
as_tsibble(index = year, key = Type) %>%
ggplot(aes(x = as.factor(year), y = total, fill = Type)) +
geom_bar(stat = "identity", position = "dodge") +
facet_wrap(~Type, ncol = 3) +
guides(colour= "none") +
labs(title = "Monthly consumption per canton since 2018",
subtitle = "Ammount in millions of kWh with free scale",
y = "", x = "") +
theme(axis.text.x = element_text(angle=80, hjust=1))
imp_exp_long %>%
group_by(year, Type) %>%
summarize(total = sum(Amount)/1000000) %>%
as_tsibble(index = year, key = Type) %>%
ggplot(aes(x = as.factor(year), y = total, fill = Type)) +
geom_bar(stat = "identity", position = "dodge") +
facet_wrap(vars(Type), ncol = 3) +
guides(colour="none") +
guides(colour="none") +
labs(title = "Monthly consumption per canton since 2018",
subtitle = "Ammount in millions of kWh with free scale",
y = "", x = "") +
theme(axis.text.x = element_text(angle=80, hjust=1))
imp_exp_long %>%
group_by(year, Type) %>%
summarize(total = sum(Amount)/1000000) %>%
as_tsibble(index = year, key = Type) %>%
ggplot(aes(x = as.factor(year), y = total, fill = Type)) +
geom_bar(stat = "identity", position = "dodge") +
facet_wrap(vars(Type), ncol = 3) +
guides(colour="none") +
guides(colour="none") +
labs(title = "Monthly consumption per canton since 2018",
subtitle = "Ammount in millions of kWh with free scale",
y = "", x = "") +
theme(axis.text.x = element_text(angle=80, hjust=1)) +
theme(legend.position = "none")
imp_exp_long %>%
group_by(year, Type) %>%
summarize(total = sum(Amount)/1000000) %>%
as_tsibble(index = year, key = Type) %>%
ggplot(aes(x = as.factor(year), y = total, fill = Type)) +
geom_bar(stat = "identity", position = "dodge") +
facet_wrap(vars(Type), ncol = 3) +
labs(title = "Monthly consumption per canton since 2018",
subtitle = "Ammount in millions of kWh with free scale",
y = "", x = "") +
theme(axis.text.x = element_text(angle=80, hjust=1)) +
theme(legend.position = "none")
imp_exp_long %>%
group_by(year, Type) %>%
summarize(total = sum(Amount)/1000000) %>%
as_tsibble(index = year, key = Type) %>%
ggplot(aes(x = as.factor(year), y = total, fill = Type)) +
geom_bar(stat = "identity", position = "dodge") +
facet_wrap(vars(Type), ncol = 3) +
labs(title = "Monthly consumption per canton since 2018",
subtitle = "Ammount in millions of kWh with free scale",
y = "", x = "") +
theme(axis.text.x = element_text(angle=80, hjust=1),
legend.position = "none")
border_long %>%
group_by(year, Type) %>%
summarize(total = sum(Amount)/1000000) %>%
as_tsibble(index = year, key = Type) %>%
ggplot(aes(x = as.factor(year), y = total, fill = Type)) +
geom_bar(stat = "identity", position = "dodge") +
facet_wrap(~Type, ncol = 3) +
guides(colour= "none") +
labs(title = "Monthly consumption per canton since 2018",
subtitle = "Ammount in millions of kWh with free scale",
y = "", x = "") +
theme(axis.text.x = element_text(angle=80, hjust=1),
legend.position = "none")
border_long %>%
group_by(year, Type) %>%
summarize(total = sum(Amount)/1000000) %>%
as_tsibble(index = year, key = Type) %>%
ggplot(aes(x = as.factor(year), y = total, fill = Type)) +
geom_bar(stat = "identity", position = "dodge") +
facet_wrap(~Type, ncol = 3) +
guides(colour= "none") +
labs(title = "Yearly exchange with border per countries since 2015",
subtitle = "Ammount in millions of kWh",
y = "", x = "") +
theme(axis.text.x = element_text(angle=80, hjust=1),
legend.position = "none")
